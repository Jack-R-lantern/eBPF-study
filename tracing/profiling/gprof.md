# Profiling

## Implementation of Profiling
프로파일링은 프로그램의 모든 함수가 컴파일 되는 방법을 변경하여 호출될 때 호출된 위치에 대한 일부 정보를 숨깁니다. \
이를 통해 프로파일러는 어떤 함수가 호출되었는지 파악할 수 있으며, 호출 횟수도 셀 수 있습니다. \
이 변경은 프로그램이 `-pg` 옵션으로 컴파일될 때 컴파일러에 의해 이루어지며, 이로 인해 모든 함수가 첫 번째 작업중 하나로 mcount를 호출합니다

프로파일링 라이브러리에 포함된 `mcount`루틴은 부모 루틴과 부모 모두를 메모리 내 호출 그래프 테이블에 기록하는 역할을 합니다. \
일반적으로 자식의 주소와 원래 부모의 반환 주소를 모두 찾기 위해 스택프레임을 검사하여 수행됩니다. \
`mcount` 자체는 일반적으로 필요한 정보를 추출하는 잛은 어셈블리 언어 스텁 루틴입니다. \
`mcount`는 `frompc`와 `selfpc`를 인자로 가지는 `__mcount_internal`함수를 호출합니다. \
`__mcount_interal`은 `frompc`와 `selfpc` 그리고 이러한 각각의 호출 호가 변환된 횟수를 기록하는 인 메모리 호출 그래프를 유지를 책임진다.